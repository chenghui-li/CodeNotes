# 概要
- 一台路由器拥有多个网络接口，每个接口都连接到一个子网上。更通用的术语说，多宿主机用来指拥有多个网络接口的任意主机（不必是一台路由器），一个多宿主机的各个接口上的网络地址是不同的，即其连接的各个子网的地址是不同的。

- 地址解析协议（ARP）关注的是如何将因特网地址映射到硬件（如以太网）地址；因特网控制消息协议（ICMP）用来在网络中传输错误和控制信息；主机和路由器使用因特网组管理协议（IGMP）来支持IP数据报的多播。

- ping来检查一台特定的主机是否存活以及是否在TCP/IP网络中可见；traceroute可以用来跟踪一个IP包在网络中的传输路径。

- **数据链路层关注的是在一个网络的物理链接上传输数据**。要传输数据，数据链路层需要将网络层传递过来的数据报封装进被称为帧的一个一个单元。除了需要传输的数据之外，每个帧都会包含一个头，如头中可能包含了目标地址和帧的大小。数据链路层在物理链接上传输帧并处理来自接受者的确认。（不是所有的数据链路层都使用确认）这一层可能会进行错误检测，重传以及流量控制。一些数据链路层还可能会将大的数据包分割成多个帧并在接收者端对这些帧进行重组。

- **网络层关注的是如何将包（数据）从源主机发送到目标主机**。这一层主要执行以下任务：
1. 将数据分解成足够小的片段以便数据链路层进行传输。
2. 在因特网上路由数据。
3. 为传输层提供服务。
在TCP/IP协议套件中，网络层的主要协议是IP。

- IP是无连接和不可靠的，因为它没有在相互连接的两个主机之间提供一个虚拟电路。IP尽最大可能将数据报从发送者传输给接收者，但不保证包到达的顺序会与它们被传输的顺序一致，也不保证包是否重复，甚至都不保证包是否会达到接收者。IP也没有提供错误恢复。可靠性是通过使用一个可靠的传输层协议或应用程序本身来保证的。

- IPv4数据报的最大大小为65535字节。默认情况下IPv6允许一个数据报的最大大小为65575字节（40字节用于存放头信息，65535字节用于存放数据），并且为更大的数据报提供了一个选项。

- 大多数数据链路层会为数据帧的大小设定一个上限（MTU）。比如常见的以太网架构中的上限为1500字节。当一个IP数据报的大小大于MTU时，IP会将数据报分段成一个个大小适合在网络上传输的单元。这些分段在达到最终目的地之后会被重组成原始的数据报（每个分段本身就是包含了一个偏移量字段的IP数据报，该字段给出了一个该分段在原始数据报中的位置）。

- 由于IP并不进行重传并且只有在所有分段都达到目的地之后才能对数据报进行组装，因此如果其中的一些分段丢失或者包含错误的话就会导致整个数据报不可用。

- 一个IP地址包含两个部分：一个是网络ID，它指定了主机所属的网络；另一个是主机ID，它标识出了位于该网络中的主机。

- **流量控制防止一个快速的发送者将一个慢速的接收者压垮。**要实现流量控制，接收TCP就必须要为进入的数据维护一个缓冲区。（每个TCP在连接建立阶段会通告其缓冲区大小。）当从发送TCP端收到数据时会将数据累计在这个缓冲区中，当应用程序读取数据时会从缓冲区中删除数据。在每个确认中，接收者会通知发送者其进入数据缓冲区的可用空间（即发送者可以发送多少字节）。TCP流量控制算法采用了所谓的滑动窗口算法，它允许包含总共N字节（提供的窗口大小）的未确认段同时在发送者和接收者之间传输。如果接收TCP的进入数据缓冲区完全被充满了，那么窗口就会关闭，发送TCP就会停止数据传输。

- **TCP的拥塞控制算法被设计用来防止快速的发送者压垮整个网络**。如果一个发送TCP发送包的速度要快于一个中间路由器转发的速度，那么该路由器就会开始丢弃包。这将会导致较高的丢包率，其结果是如果TCP保持以相同的速度发送这些被丢弃的分段的话，就会极大地降低性能。